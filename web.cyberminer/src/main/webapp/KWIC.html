<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>KWIC - MASTER CONTROL</title>
  
  <link href="stylesheets/css/kwic.css" rel="stylesheet" type="text/css" />
  <link rel="stylesheet" href="http://code.jquery.com/ui/1.11.4/themes/smoothness/jquery-ui.css">
  <script src="http://code.jquery.com/jquery-1.10.2.js"></script>
  <script src="http://code.jquery.com/ui/1.11.4/jquery-ui.js"></script>
  
  <script type="text/javascript">
  $(function() {
	  var KWICIndex = function(url, description) {
			this.url = url;
			this.description = description;
		};
	  	
	  $("#readInput").button({icons: {primary: "index"}}).click(function( event ) {
		 var indexDemo = new KWICIndex("htttp://www.google.com", "Just google");
		  
		 $.ajax({
		    type: "POST",
		    url: "http://localhost:8080/web.cyberminer/api/v1/indices",
		    		 /*
		   	data: {
		        firstParam: JSON.stringify(new KWICIndex("http://www.somewhere.com", "Somewhere description")),
		    },
		    dataType: "text",
		    */
		    success: success,
		    error: function(){
		        console.log("error!");
		    }
		 });
	  });
	  
	  function build() {
		$("#outputContent").empty();
		 
		var outputLine = $("<div class='output-line'></div>");
		
		var csDiv = $("<div class='output-left ui-widget-content ui-corner-all'></div>");
		csDiv.append("<h2>Circular Shift<img class='cs-help' src='stylesheets/images/help-icon.png' title='Repeatedly removes the first word of the line and append it at the end of the line until it reaches the original input.'></h2>");
		  
		var textArea = $("<textarea rows='12' cols='50' readonly='readonly' style='resize:none;'></textarea>");
		for(var i=0; i < this.cs.length; i++) {
			textArea.append("CS"+i+": "+this.cs[i]+"\n");
		}
		csDiv.append(textArea);
		  
		outputLine.append(csDiv);
		  
		var asDiv = $("<div class='output-right ui-widget-content ui-corner-all'></div>");
		asDiv.append("<h2>Alphabetic Shift<img class='as-help' src='stylesheets/images/help-icon.png' title='Sorts the circular shift output in an ascending alphabetical order.'></h2>");
		  
		textArea = $("<textarea rows='12' cols='50' readonly='readonly' style='resize:none;'></textarea>");
		for(var i=0; i < this.as.length; i++) {
			textArea.append("AS"+i+": "+this.as[i]+"\n");
		}
		asDiv.append(textArea);
		  
		outputLine.append(asDiv);
		  
		$("#outputContent").append(outputLine);
	  }
  });
  </script>
</head>
<body>

<!-- HEADER -->
<div class="horizontal">
	<img src='stylesheets/images/kwic-logo.png'>
</div>

<!-- INPUT -->
<div class="horizontal">
	<input type="text" id="input" value="" class="ui-widget-content ui-corner-all" style="width:30%;height:32px;">
	<button id="readInput">Build</button>
</div>

<!-- OUTPUT -->
<div id="outputContent" class="horizontal"></div>

</body>
</html>